<!DOCTYPE html>
<html>
<head>
    <title>Simple Project Timeline</title>
    <style>
        .task { margin: 10px; padding: 10px; border: 1px solid #ccc; }
        .progress { width: 100%; background: #eee; }
        .progress-bar { height: 20px; background: #4CAF50; }
    </style>
</head>
<body>
    <div id="app">
        <h1>Project Timeline</h1>
        <div id="taskForm">
            <input type="text" id="taskName" placeholder="Task name">
            <input type="date" id="startDate">
            <input type="date" id="endDate">
            <input type="number" id="completion" min="0" max="100" placeholder="% Complete">
            <button onclick="addTask()">Add Task</button>
        </div>
        <div id="taskList"></div>
    </div>

    <script>
        let tasks = JSON.parse(localStorage.getItem('tasks')) || [];
        
        function addTask() {
            const task = {
                name: document.getElementById('taskName').value,
                start: document.getElementById('startDate').value,
                end: document.getElementById('endDate').value,
                completion: document.getElementById('completion').value,
                id: Date.now()
            };
            tasks.push(task);
            saveTasks();
            renderTasks();
        }

        function deleteTask(id) {
            tasks = tasks.filter(t => t.id !== id);
            saveTasks();
            renderTasks();
        }

        function saveTasks() {
            localStorage.setItem('tasks', JSON.stringify(tasks));
        }

        function renderTasks() {
            const list = document.getElementById('taskList');
            list.innerHTML = tasks.map(task => `
                <div class="task">
                    <h3>${task.name}</h3>
                    <p>${task.start} - ${task.end}</p>
                    <div class="progress">
                        <div class="progress-bar" style="width: ${task.completion}%"></div>
                    </div>
                    <button onclick="deleteTask(${task.id})">Delete</button>
                </div>
            `).join('');
        }

        renderTasks();
    </script>
</body>
</html>